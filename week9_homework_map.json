{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": {
    "text": "Australian Employment Statistics - Q3 2025",
    "subtitle": "Employment Rates and Labour Force Distribution Across States and Territories",
    "fontSize": 18,
    "anchor": "start",
    "color": "#2c3e50",
    "subtitleFontSize": 13,
    "subtitleColor": "#7f8c8d"
  },
  "width": 900,
  "height": 600,
  "projection": {
    "type": "conicEqualArea",
    "parallels": [-18, -36],
    "rotate": [-132, 0],
    "center": [0, -26],
    "scale": 1000,
    "translate": [550, 300]
  },
  "layer": [
    {
      "data": {"values": [{}]},
      "mark": {
        "type": "rect",
        "width": 900,
        "height": 600,
        "fill": "#e8f4fd",
        "opacity": 0.8
      }
    },
    {
      "data": {"graticule": {"step": [15, 15]}},
      "mark": {
        "type": "geoshape",
        "fill": null,
        "stroke": "#cccccc",
        "strokeWidth": 0.5,
        "strokeDash": [1, 1],
        "opacity": 0.4
      }
    },
    {
      "data": {
        "url": "australia-states.geojson"
      },
      "mark": {
        "type": "geoshape",
        "fill": "#f0f9ff",
        "stroke": "#1e40af",
        "strokeWidth": 1.5,
        "opacity": 0.7
      }
    },
    {
      "data": {"url": "data/labour_force_cleaned.csv"},
      "transform": [
        {
          "calculate": "datum.State_Code == 'NSW' ? 151.2 : datum.State_Code == 'VIC' ? 144.9 : datum.State_Code == 'QLD' ? 153.0 : datum.State_Code == 'WA' ? 115.9 : datum.State_Code == 'SA' ? 138.6 : datum.State_Code == 'TAS' ? 147.3 : datum.State_Code == 'ACT' ? 149.1 : datum.State_Code == 'NT' ? 130.8 : 0",
          "as": "longitude"
        },
        {
          "calculate": "datum.State_Code == 'NSW' ? -33.9 : datum.State_Code == 'VIC' ? -37.8 : datum.State_Code == 'QLD' ? -27.5 : datum.State_Code == 'WA' ? -32.0 : datum.State_Code == 'SA' ? -34.9 : datum.State_Code == 'TAS' ? -42.9 : datum.State_Code == 'ACT' ? -35.3 : datum.State_Code == 'NT' ? -12.5 : 0",
          "as": "latitude"
        }
      ],
      "mark": {
        "type": "circle",
        "stroke": "#ffffff",
        "strokeWidth": 4,
        "opacity": 0.9
      },
      "encoding": {
        "longitude": {"field": "longitude", "type": "quantitative"},
        "latitude": {"field": "latitude", "type": "quantitative"},
        "size": {
          "field": "Labour_Force",
          "type": "quantitative",
          "scale": {
            "type": "sqrt",
            "range": [300, 1500],
            "nice": true
          },
          "legend": {
            "title": "Labour Force (thousands)",
            "orient": "right",
            "format": ",.0f",
            "titleFontSize": 12,
            "labelFontSize": 10,
            "symbolStrokeWidth": 2,
            "symbolStrokeColor": "#ffffff",
            "offset": 100
          }
        },
        "color": {
          "field": "Employment_Rate",
          "type": "quantitative",
          "scale": {
            "type": "threshold",
            "domain": [59, 61, 63, 65, 67],
            "scheme": "viridis"
          },
          "legend": {
            "title": "Employment Rate (%)",
            "orient": "top-right",
            "format": ".1f",
            "titleFontSize": 12,
            "labelFontSize": 10,
            "gradientLength": 200,
            "offset": 100
          }
        },
        "tooltip": [
          {"field": "State", "type": "nominal", "title": "State/Territory"},
          {"field": "Employment_Rate", "type": "quantitative", "title": "Employment Rate (%)", "format": ".1f"},
          {"field": "Labour_Force", "type": "quantitative", "title": "Labour Force", "format": ",.0f"},
          {"field": "Population", "type": "quantitative", "title": "Population", "format": ",.0f"},
          {"field": "Unemployment_Rate", "type": "quantitative", "title": "Unemployment Rate (%)", "format": ".1f"}
        ]
      }
    },
    {
      "data": {"url": "data/labour_force_cleaned.csv"},
      "transform": [
        {
          "calculate": "datum.State_Code == 'NSW' ? 147.0 : datum.State_Code == 'VIC' ? 145.0 : datum.State_Code == 'QLD' ? 145.0 : datum.State_Code == 'WA' ? 122.0 : datum.State_Code == 'SA' ? 135.0 : datum.State_Code == 'TAS' ? 147.0 : datum.State_Code == 'ACT' ? 149.1 : datum.State_Code == 'NT' ? 133.0 : 0",
          "as": "longitude"
        },
        {
          "calculate": "datum.State_Code == 'NSW' ? -32.0 : datum.State_Code == 'VIC' ? -36.5 : datum.State_Code == 'QLD' ? -22.0 : datum.State_Code == 'WA' ? -26.0 : datum.State_Code == 'SA' ? -30.0 : datum.State_Code == 'TAS' ? -42.0 : datum.State_Code == 'ACT' ? -35.3 : datum.State_Code == 'NT' ? -20.0 : 0",
          "as": "latitude"
        }
      ],
      "mark": {
        "type": "text",
        "fontSize": 14,
        "fontWeight": "bold",
        "fill": "#1e3a8a",
        "stroke": "#ffffff",
        "strokeWidth": 2
      },
      "encoding": {
        "longitude": {"field": "longitude", "type": "quantitative"},
        "latitude": {"field": "latitude", "type": "quantitative"},
        "text": {"field": "State_Code", "type": "nominal"}
      }
    },
    {
      "data": {"url": "data/labour_force_cleaned.csv"},
      "transform": [
        {
          "calculate": "datum.State_Code == 'NSW' ? 151.2 : datum.State_Code == 'VIC' ? 144.9 : datum.State_Code == 'QLD' ? 153.0 : datum.State_Code == 'WA' ? 115.9 : datum.State_Code == 'SA' ? 138.6 : datum.State_Code == 'TAS' ? 147.3 : datum.State_Code == 'ACT' ? 149.1 : datum.State_Code == 'NT' ? 130.8 : 0",
          "as": "longitude"
        },
        {
          "calculate": "datum.State_Code == 'NSW' ? -33.9 : datum.State_Code == 'VIC' ? -37.8 : datum.State_Code == 'QLD' ? -27.5 : datum.State_Code == 'WA' ? -32.0 : datum.State_Code == 'SA' ? -34.9 : datum.State_Code == 'TAS' ? -42.9 : datum.State_Code == 'ACT' ? -35.3 : datum.State_Code == 'NT' ? -12.5 : 0",
          "as": "latitude"
        }
      ],
      "mark": {
        "type": "text",
        "fontSize": 10,
        "fontWeight": "normal",
        "fill": "#2c3e50",
        "dy": 35,
        "stroke": "#ffffff",
        "strokeWidth": 0.5
      },
      "encoding": {
        "longitude": {"field": "longitude", "type": "quantitative"},
        "latitude": {"field": "latitude", "type": "quantitative"},
        "text": {"field": "Employment_Rate", "type": "quantitative", "format": ".1f"}
      }
    }
  ],
  "background": "#f8f9fa"
}
